import{_ as q,a as F,b as G,g as H,r as i,o as M,d as U,p as a,u as s,e as $,f as L,q as P,i as R,w as V,h as O,m as T,j,k as E,n as A,s as r,I as K,v as J,x as g,y as Q,z as t,B as W,C as X,M as Y,P as l,a2 as m,H as Z,K as ee}from"./index-C8-Bl7Kv.js";const oe={class:"div-foto-nome"},te={class:"image-container"},se=["src"],ie={class:"description"},ae={class:"div-button-home"},re={__name:"HomeGestore2",setup(ne){const y=F(),z=G(),D=H(),u=$(),I=L(),f=i("Nome del Negozio"),p=i("CittÃ  del Negozio"),N=i("Via del Negozio"),_=i("Numero di Cellulare"),h=i("path/immagine.jpg"),b=i("Descrizione del Negozio"),c=i(!0);var d=i("");const C=()=>{u.push("/gestore/tabs/tab1gestore/inserisciServizi")},w=()=>{u.push("/gestore/tabs/tab1gestore/inserisciferie")},S=()=>{console.log("Modifica Orari Lavorativi"),u.push("/registrazione/registrazioneClienteGestore/registrazioneNegozio/sceltaOrariLavorativi")};async function x(){try{const o=z.currentUser;console.log("currentUser",o);let e=P(R(y,"Negozi"),V("proprietarioUid","==",o==null?void 0:o.uid));const B=(await O(e)).docs[0].ref,n=await T(B);if(n.exists()){d.value=n.id,console.log("id negozio=",d.value),I.dispatch("setIdDocumentNegozioGestore",d.value),f.value=n.data().nomeNegozio||"",p.value=n.data().cittaNegozio||"",N.value=n.data().indirizzoNegozio||"",_.value=n.data().cellulareNegozio||"",b.value=n.data().descrizioneNegozio||"";const k=j(D,"images/".concat(d.value));h.value=await E(k),c.value=!1}else console.log("Nessun negozio trovato per questo utente."),u.push("/registrazione/registrazioneClienteGestore/registrazioneNegozio")}catch(o){console.error("Errore durante il recupero dei dati da Firestore:",o)}}return M(async()=>{const o=z.currentUser;if(c.value=!0,o)try{console.log("Utente autenticato:",o.uid),await x(),console.log("Dati caricati con successo da Firestore.")}catch(e){console.error("Errore durante il montaggio del componente:",e)}else console.log("Nessun utente autenticato.");c.value=!1}),(o,e)=>(A(),U(s(ee),null,{default:a(()=>[r(s(Q),null,{default:a(()=>[r(s(K),{color:"primary"},{default:a(()=>[r(s(J),null,{default:a(()=>e[3]||(e[3]=[g("Home")])),_:1})]),_:1})]),_:1}),r(s(Z),null,{default:a(()=>[t("div",oe,[t("div",te,[t("img",{class:"img",alt:"Silhouette of mountains",src:h.value},null,8,se),W(r(s(Y),{class:"progress-bar",type:"indeterminate",color:"primary"},null,512),[[X,c.value]])]),t("h1",null,l(f.value),1),t("h3",null,l(N.value)+", "+l(p.value),1),t("h4",null,l(_.value),1),t("div",ie,[e[4]||(e[4]=t("h6",{class:"h6-description"},"Descrizione",-1)),t("p",null,l(b.value),1)])]),t("div",ae,[r(s(m),{class:"custom-button",fill:"outline",onClick:e[0]||(e[0]=v=>C())},{default:a(()=>e[5]||(e[5]=[g("Modifica servizi")])),_:1}),r(s(m),{class:"custom-button",fill:"outline",onClick:e[1]||(e[1]=v=>S())},{default:a(()=>e[6]||(e[6]=[g("Modifica orari lavorativi")])),_:1}),r(s(m),{class:"custom-button",fill:"outline",onClick:e[2]||(e[2]=v=>w())},{default:a(()=>e[7]||(e[7]=[g("Inserisci ferie")])),_:1})])]),_:1})]),_:1}))}},ue=q(re,[["__scopeId","data-v-cdb452ad"]]);export{ue as default};
