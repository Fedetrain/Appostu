import{_ as q,a as F,b as G,g as H,r as i,o as M,d as U,p as a,u as s,e as $,f as L,q as P,i as R,w as V,h as O,m as T,j,k as E,n as A,s as r,I as K,v as J,x as d,y as Q,z as t,B as W,C as X,M as Y,P as l,a2 as v,H as Z,K as ee}from"./index-BRDE0tGK.js";const oe={class:"div-foto-nome"},te={class:"image-container"},se=["src"],ie={class:"description"},ae={class:"div-button-home"},re={__name:"HomeGestore2",setup(ne){const y=F(),m=G(),D=H(),u=$(),I=L(),z=i("Nome del Negozio"),f=i("CittÃ  del Negozio"),p=i("Via del Negozio"),N=i("Numero di Cellulare"),_=i("path/immagine.jpg"),h=i("Descrizione del Negozio"),b=i(!0);var c=i("");const C=()=>{u.push("/gestore/tabs/tab1gestore/inserisciServizi")},w=()=>{u.push("/gestore/tabs/tab1gestore/inserisciferie")},S=()=>{console.log("Modifica Orari Lavorativi"),u.push("/registrazione/registrazioneClienteGestore/registrazioneNegozio/sceltaOrariLavorativi")};async function x(){try{const o=m.currentUser;console.log("currentUser",o);let e=P(R(y,"Negozi"),V("proprietarioUid","==",o==null?void 0:o.uid));const B=(await O(e)).docs[0].ref,n=await T(B);if(n.exists()){c.value=n.id,console.log("id negozio=",c.value),I.dispatch("setIdDocumentNegozioGestore",c.value),z.value=n.data().nomeNegozio||"",f.value=n.data().cittaNegozio||"",p.value=n.data().indirizzoNegozio||"",N.value=n.data().cellulareNegozio||"",h.value=n.data().descrizioneNegozio||"";const k=j(D,"images/".concat(c.value));_.value=await E(k),b.value=!1}else console.log("Nessun negozio trovato per questo utente."),u.push("/registrazione/registrazioneClienteGestore/registrazioneNegozio")}catch(o){console.error("Errore durante il recupero dei dati da Firestore:",o)}}return M(async()=>{const o=m.currentUser;if(o)try{console.log("Utente autenticato:",o.uid),await x(),console.log("Dati caricati con successo da Firestore.")}catch(e){console.error("Errore durante il montaggio del componente:",e)}else console.log("Nessun utente autenticato.")}),(o,e)=>(A(),U(s(ee),null,{default:a(()=>[r(s(Q),null,{default:a(()=>[r(s(K),{color:"primary"},{default:a(()=>[r(s(J),null,{default:a(()=>e[3]||(e[3]=[d("Home")])),_:1})]),_:1})]),_:1}),r(s(Z),null,{default:a(()=>[t("div",oe,[t("div",te,[t("img",{class:"img",alt:"Silhouette of mountains",src:_.value},null,8,se),W(r(s(Y),{class:"progress-bar",type:"indeterminate",color:"primary"},null,512),[[X,b.value]])]),t("h1",null,l(z.value),1),t("h3",null,l(p.value)+", "+l(f.value),1),t("h4",null,l(N.value),1),t("div",ie,[e[4]||(e[4]=t("h6",{class:"h6-description"},"Descrizione",-1)),t("p",null,l(h.value),1)])]),t("div",ae,[r(s(v),{class:"custom-button",fill:"outline",onClick:e[0]||(e[0]=g=>C())},{default:a(()=>e[5]||(e[5]=[d("Modifica servizi")])),_:1}),r(s(v),{class:"custom-button",fill:"outline",onClick:e[1]||(e[1]=g=>S())},{default:a(()=>e[6]||(e[6]=[d("Modifica orari lavorativi")])),_:1}),r(s(v),{class:"custom-button",fill:"outline",onClick:e[2]||(e[2]=g=>w())},{default:a(()=>e[7]||(e[7]=[d("Inserisci ferie")])),_:1})])]),_:1})]),_:1}))}},ue=q(re,[["__scopeId","data-v-d8f14672"]]);export{ue as default};
